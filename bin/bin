#!/usr/bin/env ruby

arg = ARGV[0]

def bin(n)
  acc = []
  # space in each 4 bit from bottom
  n.to_i.to_s(2).split("").reverse.each_slice(4) {|arr|
    acc.unshift arr.reverse.join.rjust(4, "0")
  }
  acc.join(",")
end

if arg.match(/^0x/)
  puts "#{bin(arg.hex)} #{arg} #{arg.hex}"
elsif arg.match(/^0b/)
  puts "#{arg.sub('0b', '')} 0x#{arg.oct.to_s(16).upcase} #{arg.oct}"
elsif arg.match(/^[0-9]/)
  puts "#{bin(arg)} 0x#{arg.to_i.to_s(16).upcase} #{arg}"
else # ascii
  puts arg.bytes.map{|n| n.to_s.ljust(4, ' ')}.join(" ")
  puts arg.bytes.map{|n| "0x" + n.to_i.to_s(16).upcase }.join(" ")
end
