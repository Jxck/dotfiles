#!/usr/bin/env ruby

require 'socket'

all = ARGV[0]

Socket.getifaddrs
      .select{|interface| interface.addr.ipv4? }
      .reject{|interface| interface.name.start_with?("lo") if all == "-a" }
      .each{|interface|
        puts "#{interface.name}: #{interface.addr.ip_address}"
      }
